@inject CreatePlanetModal createPlanetModal

@if (visible)
{
    <!-- The Modal -->
    <div class="modal" id="@Modal_Id">

        <!-- Modal content -->
        <div class="modal-content-CreatePlanet" id="create-planet-modal-inner">
            <CreatePlanetComponent></CreatePlanetComponent>
        </div>

    </div>
}

@code {

    public bool visible = false;

    const string Modal_Id = "create-planet-modal";

    protected override async Task OnInitializedAsync()
    {
        createPlanetModal.Component = this;
        ModalHolderComponent.CloseModalEvent += OnModalClose;
    }

    public void SetVisibility(bool value)
    {
        visible = value;
        StateHasChanged();
    }

    public async Task OnModalClose(string modal_id)
    {
        if (Modal_Id == modal_id)
        {
            SetVisibility(false);
        }
    }
}
